---
marp: true
---

# Лекция 3: Динамическая маршрутизация

---
Допустим, имеем 10 роутеров по 10 сетей в каждом соответственно, тогда:
10*10 = 100 сетей, в сумме. При ручном введении каждой сети придётся ввести 900 команд. Динамическая маршрутизация используется для уменьшения объёма ручной настройки и динамического изменения сети при изменении её членов.

---
**ODR** - On-Demand Routing - древний протокол динамической маршрутизации, на практике не являющейся динамической. ODR - проприетарное решение Cisco и является расширением протокола CDP. Изначально был спроектирован под hub'n'spoke(звезда) топологиях, в связи с чем не работает в петлях маршрутизации.
В процессе работы протокол обменивается со Spoke-ом информацией о подключенных сетях. 

---
**RIP** - Routing information protocol -  протокол разработанный в 1969 году, работа основана на алгоритме Беллмана - Форта. Изначально разрабатывался для ARPANet, но был адаптирован под IPv4 и в дальнейшем IPv6.
RIP использует сообщение UPDATE, отправляющееся в 30 секунд и содержащее маршрут и метрику. Метрикой RIP является hop. Чем меньше метрика, тем лучше. Равноценные маршруты балансируются.

---
Плюсом RIP является несомненно его простота. Тем не менее RIP имеет больше недостатков таких как скорость и конвергенция - все роутеры знают все сети.
Протокол череват петлями маршрутизации.

RIPv1 - RFC1058 - для IPv4, полноклассовый подход
RIPv2 - RFC2543 - для IPv4, безклассовый подход
RIPng - RFC2080 - для IPv6

RIP использует UDP 520 и 521

---
## Конифгурация динамической маршрутизации в Cisco
>`(config)#router` - команда управления протоколами
>`(config)#router odr` - запуск ODR. Устройство, на котором будет введена команда станет spoke-ом.
>`(config)#router rip` - Запуск RIP.
>`(config-rip)#network 10.0.0.0` - Анонс сети исплоьзуя RIP.
>`#show ip protocols` - выводит информацию о протоколах работающих поверх IP.
>`(config-router)#default-information originate` - указывает что роутер, на котором введена команда является GLR