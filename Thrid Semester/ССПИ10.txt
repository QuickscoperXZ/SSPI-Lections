
It was redacted from C# program

====================================
Лекция 10 ССПИ: Обо всём по немногу
====================================

lshut - local shutdown|выключен локально, передавая через VTP раздаёт active state
config-vlan#state - состояние влана, active / suspent
                                        active - акстивное состояние
                                        suspended - неактивное состояние
Данная команда позволяет передавать состояние влана через протокол VTP.
config#vlan dot1q native tag - глобально тегирует все нативные вланы на всех транках
config-if#no switchport trunk native vlan tag - переводит транк в обычное состояние (нативный не тегируется)

Configuration register 0x2102 - регистр конфигурации, 0х2102 - default value.
0х2102 утверждает, что после удачной зарузки системы должен загружаться startup-config.
config#config-register - использование комманды с неправильными config-register может вывести устройство из строя.


Востановление пароля на роутерах
1: Отключить устройство.
2: Включить устройство и нажать ctrl + br*, чтобы прервать загрузку системы.
3: В режме rommon* : dir flash: - движение по файловой системе на flash0:
                     confreg 0x2142 - утверждает, что после загрузки операционной системы не загружать startup-config.
                     boot - запускает операционную систему.

                     В системе
                     >en
                     #dir nvram:
                     rename startup-config Old - переименовывает startup-config
                                ИЛИ
                     erase startup-config - удаляет startup-config
                     #show version
                     config#conifg-register 0x2102 - устанавливаем confreg 2102
                     reload - перезапускаем устройство
*br - комбинация клавиш fn + pgup.
*rommon - режим крайне минималистичный, не имеет автодополнения и нормальной справки.

Востановление пароля на коммутаторах
1: Отключить питание с зажатой кнопкой mode
2: Включить питание с зажатой кнопкой mode
3: Попав в Switch:* flash init - инициализирует память
                    dir flash:
                    В коммутаторах startup-config называется config.text.
                    rename config.text old
                            ИЛИ
                    delete config.text - удаляет файл*
*Switch: - режим востановления на коммутаторах.
*delete и erase - две разные комманды, delete предназначен для файловой системы а erase по факту очищает файл.
====================================================================================================================================

IPv6 - 8 хекстетов вида k:k:k:k:k:k:k:k/64, где k - 16 битное число.
a::a, где :: - последовательность из 6 0000, то есть 0000:0000:0000:0000:0000:0000, подобная замена может быть только одна.

Для проверки IPv6 интерфейсов: show ipv6 interface brief.
Для маршрутизации по IPv6 необходимо иметь IPv6 routing-table. Чтобы проверить есть ли она: show ipv6 route
Чтобы включить unicast routing по IPv6 адресам: config#ipv6 unicast routing
Чтобы включить интерфейс в маршрутизацию по IPv6: config-if#ipv6 enable, в результате у интерфейса появится link-local адрес.
Не обязательно прописывать ipv6 enable, однако некоторые службы и протоколы требуют явного включения ipv6 на интерфейсе.
Link-local адрес, это адреса вида fe80::64, адреса генерируются согласно стандарту EUI-64. Link-local адреса можно менять: config-if#ipv6 add <адресс> link-local

Концепция RoS(Router on stick) также работает с IPv6, то есть можно устанавливать IPv6 адреса на подинтерфейсы.

IPv6 на MLS
CAM/TCAM - специальная память в которой хранится FDB / RIB.
SDM - Switch Database Manager - система управления памятью. SDM имеет шаблоны(templates) которые отвечают за управлением распределением памяти.
Чтобы вывести текущий шаблон: show sdm prefer
Шаблон Desktop поддерживает только IPv4 маршрутизацию.
Шаблон dual-ipv4-and-ipv6 поддерживает и IPv4 и IPv6 маршрутизацию.
Чтобы сменить шаблон: config#sdm prefer dual-ipv4-and-ipv6 unicast
Дальнейшие действия для настройки IPv6 адресации на MLS анологичны настройке IPv6 на маршрутизаторах.
MLS поддерживают default route, то есть маршрут по умолчанию, для установки: для ipv6: config#ipv6 route ::/0
                                                                             для ipv4: config#ipv4 route 0.0.0.0
